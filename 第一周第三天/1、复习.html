<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        /* 全局作用域：当你开开一个页面，就会全局作用域，就有一个全局的大对象window，（window.可以省略）
        全局变量（var、let、const、function）
        区别
        1、var他会给全局作用域定义一个变量，给window增加属性，let不会
        2、var有变量提升，let没有
        3、var可以重复声明同一个变量，let不行
        
        
        */
        //    var a = 12; // 他会给全局作用域定义一个变量，给window增加属性
        //    var a = 13;
        //    let  b = 12;

        /* 
        
        私有作用域：只要函数执行就会生成私有作用域
        */


        function fn() {
            /* 定义函数：
            1、开辟一个堆内存，形成16进制空间地址
            2、那函数里的代码以字符串的格式放进堆内存
            3、把地址赋值给函数名
            
            */
        }

        fn()
        /* 
        函数执行：
        1、开辟私有作用域
        2、形参赋值
        3、变量提升
        4、代码执行
        5、作用域是否销毁
        */

        /* 
        
        私有变量：在私有作用域里生成的变量就是私有变量(let、var、function)
        形参也会是私有变量
        */

        /* 
        变量提升：
        变量提升就是浏览器解析js代码的一个过程，发生在js代码运行之前，
        在当前作用域浏览器会从头到尾检测一遍所有的变量，给带var和function的变量进行提前的声明和定义，var只声明不定义，function既声明又定义

        变量提升特殊情况：
        1、不管if条件成立与否，都要进行变量提升，如果if里有function，只声明不定义
        2、in：检测一个属性名是否属于某个对象，如果有就是true，反之就是false
        3、匿名函数没有变量提升
        4、变量提升发生在等号左边
        5、函数里，虽然return下面的代码不会执行，但是要进行变量提升
        */
        //   var a = function(){}

        // function f5() {
        //     f = ff();
        //     return f;

        //     function ff() {
        //         return "f" in window;
        //     };
        // }
        // console.log(f5());
        // console.log(w)

        // 作用域链：
            // 函数执行，形成一个私有作用域，当代码执行的时候，如果要使用一个变量，先看自己的私有作用域有没有，如果有，就是用自己的，如果没有，就取上一级作用域查找，如果上一级作用域还没有，就继续查找，直到查找到全局作用域，如果还没有就报错，->这种一级一级向上查找的机制就是作用域链查找机制

            // 上一级作用域：看函数在哪创建的，哪就是上一级作用域，在函数创建的时候，他的上一级作用域就已经确定了，跟函数在哪执行没有关系
    </script>
</body>

</html>